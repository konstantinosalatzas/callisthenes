{% extends 'tracker/base.html' %}

{% block content %}
    <article class="post">
        <aside class="actions">
            {% if user.is_authenticated %}
                <a href="{% url 'set_new' pk=training.pk %}" class="btn btn-secondary">
                    {% include './icons/file-earmark-plus.svg' %}
                </a>
                <a class="btn btn-secondary" href="{% url 'training_edit' pk=training.pk %}">
                    {% include './icons/pencil-fill.svg' %}
                </a>
                <a class="btn btn-secondary" href="{% url 'training_remove' pk=training.pk %}">
                    {% include './icons/trash-fill.svg' %}
                </a>
            {% endif %}
        </aside>
        {% if training.published_date %}
            <div class="date">
                {{ training.published_date }}
            </div>

            {% else %}
            <aside class="actions">
                <a class="btn btn-secondary" role="button" href="{% url 'training_publish' pk=training.pk %}">Publish</a>
            </aside>
        {% endif %}
        <h2>{{ training.title }}</h2>
        <p>{{ training.training_date|linebreaksbr }}</p>
        <p>{{ training.text|linebreaksbr }}</p>
        <p>Sets: {{ training.sets|linebreaksbr }}</p>

        {% block subcontent %}
            {% for set in sets %}
                <article class="post">
                    <h2><a href="{% url 'set_detail' pk=set.pk %}">Set {{ set.set_number }}</a></h2>
                    <p>Reps: {{ set.reps|linebreaksbr }}</p>
                    <p>Weight/Resistance: {{ set.resistance_weight|linebreaksbr }}</p>
                    <p>Comments: {{ set.comment|linebreaksbr }}</p>
                </article>
            {% endfor %}
        {% endblock %}

    </article>
{% endblock %}