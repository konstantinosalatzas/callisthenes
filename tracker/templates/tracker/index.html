{% extends 'tracker/base.html' %}

{% block content %}
{% if user.is_authenticated %}
{% if heatmap %}
    <div class="training-heatmap-container">
        <h3>My training activity (last 52 weeks)</h3>
        <div class="training-heatmap">
            <div class="heatmap-header">
                <div class="day-labels">
                    <div class="day-label">Mon</div>
                    <div class="day-label">Wed</div>
                    <div class="day-label">Fri</div>
                    <div class="day-label">Sun</div>
                </div>
            </div>
            <div class="heatmap-grid">
                {% for week in heatmap %}
                    <div class="heatmap-week">
                        {% for day in week.days %}
                            <div class="heatmap-day intensity-{{ day.intensity }}"
                                 title="{{ day.date }} - {{ day.count }} training(s)">
                            </div>
                        {% endfor %}
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="heatmap-legend">
            <small>Less</small>
            <div class="intensity-0"></div>
            <div class="intensity-1"></div>
            <div class="intensity-2"></div>
            <div class="intensity-3"></div>
            <div class="intensity-4"></div>
            <small>More</small>
        </div>
    </div>
    <hr class="my-4">
{% endif %}
<article class="post">
    <h2>Go to:</h2>
    <ul>
       <li><h2><a href="{% url 'training_list' %}">My trainings</a></h2></li>
       <li><h2><a href="{% url 'meal_list' %}">My meals</a></h2></li>
       <li><h2><a href="{% url 'unit_list' %}">My ingredients</a></h2></li>
    </ul>
</article>
{% else %}
<style>
footer {
    bottom: 0;
    text-align: left;
    position: fixed;
    padding: 3px;
    color: black;
}
</style>
<footer>
    <p><i>Calisthenics training and nutrition tracking system</i></p>
    <p>by <a href="https://konstantinosalatzas.github.io">Konstantinos Alatzas</a></p>
</footer>
{% endif %}
{% endblock %}